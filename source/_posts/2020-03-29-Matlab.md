---
title:  "Matlab"
date:   2020-03-29 22:16:18 +0800
categories:
- MATLAB
tags:
- MATLAB
---




这篇文章主要记述了MATLAB。

<!--more-->

1、首先把照片中每一个偏振角度里的值抠出来赋给im ，然后通过一个遮罩获取通过的像素点放到I 的列向量里。

```matlab
    for i=1:nimages
        im = images(:,:,i);% 三维数组images的每一个像素的第i通道 它这一张照片有36个通道？%读取每一个通道里的值赋给im，然后im利用遮罩来把1像素下的变成I的列向量
        I(:,i)=im(mask);
    end
```

2、进入线性方法中，生成一个（偏振角度）行 3 列的矩阵A【第一列是单位1，第二列是偏振角度的余弦，第三列是偏振角度的正弦】

`A = [ones(nimages,1) cos(2.*angles') sin(2.*angles')];`

3、一般情况下，x=a\b是方程a*x =b的解，而x=b/a是方程x*a=b的解

```matlab
	x = A\(I');% A * x = (I')  I' = 36行*74331列 A 36行3列
    x = x';%
    Imax = x(:,1)+sqrt(x(:,2).^2+x(:,3).^2);% 取出x第一列的值 + 根号下（x第二列的值^2 + x第三列的值^2）
    Imin = x(:,1)-sqrt(x(:,2).^2+x(:,3).^2);
    Iun = (Imin+Imax)./2;
    rho = (Imax-Imin)./(Imax+Imin);
    phi = 0.5*atan2(x(:,3),x(:,2));
    phi = mod(phi,pi);
```

![](https://i.loli.net/2020/03/31/Q2KTpNMundXUsxl.jpg)

![](https://i.loli.net/2020/03/31/amGrO9uxZVKHzfF.jpg)